/**
 * Jindo Mobile Component
 * @version 1.17.1
 * 
 * NAVER Corp; JindoJS JavaScript Framework
 * http://jindo.dev.naver.com/
 * 
 * Released under the LGPL v2 license
 * http://www.gnu.org/licenses/old-licenses/lgpl-2.0.html
 */
/**
 *	jindo.m
 *	jindo.m.Component
 *	jindo.m.UIComponent
 *	jindo.m.Touch
 *	jindo.m.Slider
 */
var raf=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,caf=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame;if(raf&&!caf){var keyInfo={},oldraf=raf;raf=function(t){function e(){keyInfo[n]&&t()}var n=oldraf(e);return keyInfo[n]=!0,n},caf=function(t){delete keyInfo[t]}}else raf&&caf||(raf=function(t){return window.setTimeout(t,16)},caf=window.clearTimeout);window.requestAnimationFrame=raf,window.cancelAnimationFrame=caf,jindo.m=function(){function _initTouchEventName(){"ontouchstart"in window?(_htTouchEventName.start="touchstart",_htTouchEventName.move="touchmove",_htTouchEventName.end="touchend",_htTouchEventName.cancel="touchcancel"):window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0&&(_htTouchEventName.start="MSPointerDown",_htTouchEventName.move="MSPointerMove",_htTouchEventName.end="MSPointerUp",_htTouchEventName.cancel="MSPointerCancel")}function _getOrientationChangeEvt(){var t="onorientationchange"in window?"orientationchange":"resize";return _htOsInfo.android&&"2.1"===_htOsInfo.version&&(t="resize"),t}function _getVertical(){var t=null,e=_getOrientationChangeEvt();if("resize"===e){var n=document.documentElement.clientWidth;t=-1==_nPreWidth?n<document.documentElement.clientHeight:_nPreWidth>n?!0:n==_nPreWidth?_isVertical:!1,_nPreWidth=n}else{var i=window.orientation;0===i||180==i?t=!0:(90==i||-90==i)&&(t=!1)}return t}function _attachEvent(){jindo.$Fn(_onOrientationChange,this).attach(window,_getOrientationChangeEvt()).attach(window,"load"),jindo.$Fn(_onPageshow,this).attach(window,"pageshow")}function _initDeviceInfo(){function t(t,e){return(e||"").indexOf(t)>-1}_setOsInfo(),_setBrowserInfo();var e=navigator.userAgent;_htDeviceInfo={iphone:_htOsInfo.iphone,ipad:_htOsInfo.ipad,android:_htOsInfo.android,win:t("Windows Phone",e),galaxyTab:/SHW-M180/.test(e),galaxyTab2:/SHW-M380/.test(e),galaxyS:/SHW-M110/.test(e),galaxyS2:/SHW-M250|GT-I9100/.test(e),galaxyS2LTE:/SHV-E110/.test(e),galaxyS3:/SHV-E210|SHW-M440|GT-I9300/.test(e),galaxyNote:/SHV-E160/.test(e),galaxyNote2:/SHV-E250/.test(e),galaxyNexus:/Galaxy Nexus/.test(e),optimusLte2:/LG-F160/.test(e),optimusVu:/LG-F100/.test(e),optimusLte:/LG-LU6200|LG-SU640|LG-F120K'/.test(e),galaxyS4:/SHV-E300|GT-I9500|GT-I9505|SGH-M919|SPH-L720|SGH-I337|SCH-I545/.test(e),bChrome:_htBrowserInfo.chrome,bSBrowser:_htBrowserInfo.bSBrowser,bInapp:!1,version:_htOsInfo.version,browserVersion:_htBrowserInfo.version};for(var n in _htDeviceInfo)"boolean"==typeof _htDeviceInfo[n]&&_htDeviceInfo[n]&&_htDeviceInfo.hasOwnProperty(n)&&"b"!==n[0]&&(_htDeviceInfo.name=n);_htDeviceInfo.samsung=/GT-|SCH-|SHV-|SHW-|SPH|SWT-|SGH-|EK-|Galaxy Nexus|SAMSUNG/.test(e),_htDeviceInfo.lg=/LG-/.test(e),_htDeviceInfo.pantech=/IM-/.test(e),_htDeviceInfo.iphone||_htDeviceInfo.ipad?t("Safari",e)||(_htDeviceInfo.bInapp=!0):_htDeviceInfo.android&&(e=e.toLowerCase(),(t("inapp",e)||t("app",e.replace("applewebkit","")))&&(_htDeviceInfo.bInapp=!0))}function _setOsInfo(){_htOsInfo=jindo.$Agent().os(),_isInapp(),_htOsInfo.version=_htOsInfo.version||_getOsVersion(),_htOsInfo.ios="undefined"==typeof _htOsInfo.ios?_htOsInfo.ipad||_htOsInfo.iphone:_htOsInfo.ios}function _setBrowserInfo(){_htBrowserInfo=jindo.$Agent().navigator(),_htOsInfo.ios&&/CriOS/.test(navigator.userAgent)&&(_htBrowserInfo.chrome=!0),"undefined"==typeof _htBrowserInfo.firefox&&(_htBrowserInfo.firefox=/Firefox/.test(navigator.userAgent)),_isSBrowser(),_updateUnderVersion()}function _updateUnderVersion(){_htBrowserInfo.msafari&&_htBrowserInfo.chrome?_htBrowserInfo.version=parseFloat(_htOsInfo.ios?navigator.userAgent.match(/CriOS[ \/]([0-9.]+)/)[1]:navigator.userAgent.match(/Chrome[ \/]([0-9.]+)/)[1]):_htBrowserInfo.firefox&&(_htBrowserInfo.version=parseFloat(navigator.userAgent.match(/Firefox[ \/]([0-9.]+)/)[1]))}function _isInapp(){var t=navigator.userAgent;_htOsInfo.bInapp=!1,_htOsInfo.ios?-1==t.indexOf("Safari")&&(_htOsInfo.bInapp=!0):_htOsInfo.android&&(t=t.toLowerCase(),(-1!=t.indexOf("inapp")||-1!=t.replace("applewebkit","").indexOf("app"))&&(_htOsInfo.bInapp=!0))}function _isSBrowser(){_htBrowserInfo.bSBrowser=!1;var t=navigator.userAgent,e=t.match(/(SAMSUNG|Chrome)/gi)||"";e.length>1&&(_htBrowserInfo.bSBrowser=!0)}function _getOsVersion(){if(!_htOsInfo.version){var t,e=navigator.userAgent,n="";return _htOsInfo.iphone||_htOsInfo.ipad?(t=e.match(/OS\s([\d|\_]+\s)/i),null!==t&&t.length>1&&(n=t[1])):_htOsInfo.android?(t=e.match(/Android\s([^\;]*)/i),null!==t&&t.length>1&&(n=t[1])):_htOsInfo.mwin&&(t=e.match(/Windows Phone\s([^\;]*)/i),null!==t&&t.length>1&&(n=t[1])),n.replace(/\_/g,".").replace(/\s/g,"")}}function _onOrientationChange(t){if("load"===t.type)return _nPreWidth=document.documentElement.clientWidth,void(_isVertical=_htOsInfo.bInapp||!_htOsInfo.iphone&&!_htOsInfo.ipad&&"resize"===_getOrientationChangeEvt()?_nPreWidth>document.documentElement.clientHeight?!1:!0:_getVertical());if("resize"===_getOrientationChangeEvt())setTimeout(function(){_orientationChange(t)},0);else{var e=jindo.$Document().clientSize().width,n=300;if(_htDeviceInfo.android){if("orientationchange"==t.type&&e==_nPreWidth)return setTimeout(function(){_onOrientationChange(t)},500),!1;_nPreWidth=e}clearTimeout(_nRotateTimer),_nRotateTimer=setTimeout(function(){_orientationChange(t)},n)}}function _orientationChange(t){var e=_isVertical;_isVertical=_getVertical(),(jindo.$Agent().navigator().mobile||jindo.$Agent().os().ipad)&&e!==_isVertical&&(t.sType="rotate",t.isVertical=_isVertical,_fireEvent("mobilerotate",t))}function _onPageshow(t){_isVertical=_getVertical(),t.sType="pageShow",setTimeout(function(){_fireEvent("mobilePageshow",t)},300)}function _getTranslateOffsetFromCSSMatrix(t){var e=new WebKitCSSMatrix(window.getComputedStyle(t).webkitTransform);return{top:e.m42,left:e.m41}}function _fireEvent(t,e){if(_htHandler[t])for(var n=_htHandler[t].concat(),i=0,o=n.length;o>i;i++)n[i].call(this,e)}function _getTranslateOffsetFromStyle(t){var e=0,n=0,i=[],o=[],h=t.style[""==jindo.m.getCssPrefix()?"transform":jindo.m.getCssPrefix()+"Transform"];if(h&&h.length>0){if(/translate[XY]/.test(h)){var s=h.match(/translateX\(([-0-9px]*)\)/),a=h.match(/translateY\(([-0-9px]*)\)/);o.push(s&&s.length>1?s[1]:"0px"),o.push(a&&a.length>1?a[1]:"0px"),i[1]=o.join(",")}else i=h.match(/translate.{0,2}\((.*)\)/);if(i&&i.length>1){var r=i[1].split(",");r&&r.length>1&&(e=parseInt(r[1],10),n=parseInt(r[0],10))}}return{top:e,left:n}}var _isVertical=null,_nPreWidth=-1,_nRotateTimer=null,_htHandler={},_htDeviceInfo={},_htAddPatch={},_htOsInfo={},_htBrowserInfo={},_htTouchEventName={start:"mousedown",move:"mousemove",end:"mouseup",cancel:null},_htDeviceList={galaxyTab:["SHW-M180"],galaxyTab2:["SHW-M380"],galaxyS:["SHW-M110"],galaxyS2:["SHW-M250","GT-I9100"],galaxyS2LTE:["SHV-E110"],galaxyS3:["SHV-E210","SHW-M440","GT-I9300"],galaxyNote:["SHV-E160"],galaxyNote2:["SHV-E250"],galaxyNexus:["Galaxy Nexus"],optimusLte2:["LG-F160"],optimusVu:["LG-F100"],optimusLte:["LG-LU6200","LG-SU640","LG-F120K"]},__M__={MOVETYPE:{0:"hScroll",1:"vScroll",2:"dScroll",3:"tap",4:"longTap",5:"doubleTap",6:"pinch",7:"rotate",8:"pinch-rotate"},KITKAT_HIGHLIGHT_CLASS:"_jmc_no_tap_highlight_",KITKAT_HIGHLIGHT_ID:"_jmc_no_tap_highlight_tag_",sVersion:"unknown",$init:function(){_initDeviceInfo(),_initTouchEventName(),_attachEvent();var t=jindo.$(this.KITKAT_HIGHLIGHT_ID);if(!t){t=document.createElement("style");var e=document.getElementsByTagName("html")[0];t.type="text/css",t.id=this.KITKAT_HIGHLIGHT_ID,e.insertBefore(t,e.firstChild);var n=t.sheet||t.styleSheet;n.insertRule("."+this.KITKAT_HIGHLIGHT_CLASS+" { -webkit-tap-highlight-color: rgba(0,0,0,0); }",0),n.insertRule("."+this.KITKAT_HIGHLIGHT_CLASS+" * { -webkit-tap-highlight-color: rgba(0,0,0,0); }",0)}},bindRotate:function(t){var e=_htHandler.mobilerotate;"undefined"==typeof e&&(e=_htHandler.mobilerotate=[]),e.push(t)},unbindRotate:function(t){var e=_htHandler.mobilerotate;if(e)for(var n,i=0;n=e[i];i++)if(n===t){e.splice(i,1);break}},bindPageshow:function(t){var e=_htHandler.mobilePageshow;"undefined"==typeof e&&(e=_htHandler.mobilePageshow=[]),e.push(t)},unbindPageshow:function(t){var e=_htHandler.mobilePageshow;if(e)for(var n,i=0;n=e[i];i++)if(n===t){e.splice(i,1);break}},getDeviceInfo:function(){return _htDeviceInfo},getOsInfo:function(){return _htOsInfo},getBrowserInfo:function(){return _htBrowserInfo},isVertical:function(){return null===_isVertical?_isVertical=_getVertical():_isVertical},getNodeElement:function(t){for(;1!=t.nodeType;)t=t.parentNode;return t},getTranslateOffset:function(t){t=jindo.$Element(t);var e,n=t.$value();return e=_htOsInfo.android&&3===parseInt(_htOsInfo.version,10)?_getTranslateOffsetFromStyle(n):"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix?_getTranslateOffsetFromCSSMatrix(n):_getTranslateOffsetFromStyle(n)},getStyleOffset:function(t){var e=parseInt(t.css("left"),10),n=parseInt(t.css("top"),10);return e=isNaN(e)?0:e,n=isNaN(n)?0:n,{left:e,top:n}},attachTransitionEnd:function(t,e){var n=(jindo.$Jindo.VERSION||jindo.$Jindo().version||jindo.VERSION).replace(/[a-z.]/gi,"");if(n>230)t._jindo_fn_=jindo.$Fn(e,this).attach(t,"transitionend");else{var i=("ms"===this.getCssPrefix()?"MS":this.getCssPrefix())+"TransitionEnd";t.addEventListener(i,e,!1)}},detachTransitionEnd:function(t,e){var n=(jindo.$Jindo.VERSION||jindo.$Jindo().version||jindo.VERSION).replace(/[a-z.]/gi,"");if(n>230)t._jindo_fn_&&(t._jindo_fn_.detach(t,"transitionend"),delete t._jindo_fn_);else{var i=("ms"===this.getCssPrefix()?"MS":this.getCssPrefix())+"TransitionEnd";t.removeEventListener(i,e,!1)}},_attachFakeJindo:function(t,e,n){var i=(jindo.$Jindo.VERSION||jindo.$Jindo().version||jindo.VERSION).replace(/[a-z.]/gi,""),o=null;return o=230>i&&"undefined"!=typeof _notSupport?_notSupport.$Fn(e).attach(t,n):jindo.$Fn(e).attach(t,n)},_getTouchEventName:function(){return _htTouchEventName},getCssPrefix:function(){var t="";return"undefined"!=typeof document.body.style.webkitTransition?t="webkit":"undefined"!=typeof document.body.style.transition||("undefined"!=typeof document.body.style.MozTransition?t="Moz":"undefined"!=typeof document.body.style.OTransition?t="O":"undefined"!=typeof document.body.style.msTransition&&(t="ms")),jindo.m.getCssPrefix=function(){return t},t},getClosest:function(t,e){var n,i=jindo.$Element(e),o=/<\/?(?:h[1-5]|[a-z]+(?:\:[a-z]+)?)[^>]*>/gi;return o.test(t)?"<"+e.tagName.toUpperCase()+">"==t.toUpperCase()?n=e:(n=i.parent(function(e){return"<"+e.$value().tagName.toUpperCase()+">"==t.toUpperCase()?e:void 0}),n=n.length?n[0].$value():!1):(0==t.indexOf(".")&&(t=t.substring(1,t.length)),i.hasClass(t)?n=e:(n=i.parent(function(e){return e.hasClass(t)?e:void 0}),n=n.length?n[0].$value():!1)),n},useCss3d:function(){if(_htAddPatch.useCss3d&&"function"==typeof _htAddPatch.useCss3d)switch(_htAddPatch.useCss3d()){case-1:return!1;case 1:return!0}var t=!1;if(_htBrowserInfo.chrome&&_htBrowserInfo.version<"25"&&!_htBrowserInfo.bSBrowser)return t;if(_htOsInfo.ios)t=!0;else if(_htBrowserInfo.firefox)t=!0;else if(_htOsInfo.android){var e=navigator.userAgent.match(/\(.*\)/);e instanceof Array&&e.length>0&&(e=e[0]),_htOsInfo.version>="4.1.0"?t=/EK-GN120|SM-G386F/.test(e)?!1:!0:(_htOsInfo.version>="4.0"&&(t=!0),_htOsInfo.version>="4.0.3"&&/SHW-|SHV-|GT-|SCH-|SGH-|SPH-|LG-F160|LG-F100|LG-F180|LG-F200|EK-|IM-A|LG-F240|LG-F260/.test(e)&&!/SHW-M420|SHW-M200|GT-S7562/.test(e)&&(t=!0))}return t},patch:function(t){return _htAddPatch.ver=t,this},_checkPatchVersion:function(){var t=jindo.m.Component.VERSION.split("."),e=t.slice(0,3).join(".");return _htAddPatch.ver>=e?!0:!1},add:function(t){if(this._checkPatchVersion())for(var e in t)_htAddPatch[e]=t[e];return this},getDeviceName:function(){if(_htAddPatch.getDeviceName&&"function"==typeof _htAddPatch.getDeviceName&&_htAddPatch.getDeviceName())return _htAddPatch.getDeviceName();var sUserAgent=navigator.userAgent;for(var i in _htDeviceList)if(eval("/"+_htDeviceList[i].join("|")+"/").test(sUserAgent))return i;var htInfo=jindo.$Agent().os();for(var x in htInfo)if(htInfo[x]===!0&&htInfo.hasOwnProperty(x))return x},useFixed:function(){if(_htAddPatch.useFixed&&"function"==typeof _htAddPatch.useFixed)switch(_htAddPatch.useFixed()){case-1:return!1;case 1:return!0}var t=!1;return(_htBrowserInfo.chrome||_htBrowserInfo.firefox||_htOsInfo.android&&parseInt(_htOsInfo.version,10)>=3||_htOsInfo.ios&&parseInt(_htOsInfo.version,10)>=5||_htOsInfo.mwin&&parseInt(_htOsInfo.version,10)>=8)&&(t=!0),t},useTimingFunction:function(){if(_htAddPatch.useTimingFunction&&"function"==typeof _htAddPatch.useTimingFunction&&_htAddPatch.useTimingFunction())switch(_htAddPatch.useTimingFunction()){case-1:return!1;case 1:return!0}var t=this.useCss3d();return _htOsInfo.android?t=!1:_htOsInfo.ios&&parseInt(_htOsInfo.version,10)>=6&&(t=!1),t},_cacheMaxClientSize:{},_fullSizeCheckElement:null,_allEventStop:function(t,e){this._htEvent||(this._htEvent={}),"detach"==e?(this._htEvent.touchstart.detach(document.body,"touchstart").detach(document.body,"touchmove"),this._htEvent={}):this._htEvent.touchstart||"attach"!=e||(this._htEvent.touchstart=jindo.$Fn(t,this).attach(document.body,"touchstart").attach(document.body,"touchmove"))},_stopDefault:function(t){t.stop()},_hasOrientation:void 0!==window.orientation,_maxClientSize:function(t,e){var n=this.getOsInfo();this._allEventStop(this._stopDefault,"attach"),this._fullSizeCheckElement||(this._fullSizeCheckElement=document.createElement("div"));var i=n.android?500:100;i=e?1:i;var o;this._hasOrientation&&(o=Math.abs(window.orientation/90)%2,i=void 0!==this._cacheMaxClientSize[o]?0:i);var h=this;document.body.scrollTop<=1?(document.body.appendChild(h._fullSizeCheckElement),h._fullSizeCheckElement.style.cssText="position:absolute; top: 0px; width:100%;height:"+parseInt(window.innerHeight+200,10)+"px;",window.scrollTo(0,1),setTimeout(function(){h._checkSize(h._hasOrientation,h._cacheMaxClientSize,o,t,h,i)},i)):(this._fullSizeCheckElement.style.height=window.innerHeight+"px",this._checkSize(this._hasOrientation,this._cacheMaxClientSize,o,t,h,i))},_checkSize:function(t,e,n,i,o,h){var s=this.getOsInfo(),a=this.getBrowserInfo();this._allEventStop(this._stopDefault,"attach");var r;t&&e[n]?r=e[n]:(o._fullSizeCheckElement.style.cssText="position:absolute; top: 0px; width:100%;height:"+window.innerHeight+"px;overflow:hidden",r=a.mobile||s.ipad?{width:window.innerWidth,height:window.innerHeight}:{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight},t&&(e[n]=r)),i.call(o,r);var u=this;this._allEventStop(this._stopDefault,"detach"),0===h?this._fullSizeCheckElement.style.height="0px":setTimeout(function(){u._fullSizeCheckElement.style.height="0px"},h)},hasOffsetBug:function(){if(_htAddPatch.hasOffsetBug&&"function"==typeof _htAddPatch.hasOffsetBug)switch(_htAddPatch.hasOffsetBug()){case-1:return!1;case 1:return!0}var t=!1;return t=_htOsInfo.android?_htBrowserInfo.chrome||_htBrowserInfo.firefox?!1:_htOsInfo.version<"4"?!0:!1:!1},hasClickBug:function(){if(_htAddPatch.hasClickBug&&"function"==typeof _htAddPatch.hasClickBug)switch(_htAddPatch.hasClickBug()){case-1:return!1;case 1:return!0}return _htOsInfo.ios||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||!1},_getTranslate:function(t,e,n){return n="undefined"==typeof n?!0:n,"translate"+(n?"3d(":"(")+t+","+e+(n?",0)":")")},_toPrefixStr:function(t){return t.length<=0?t:(t=""==this.getCssPrefix()?t.charAt(0).toLowerCase()+t.substr(1):t.charAt(0).toUpperCase()+t.substr(1),this.getCssPrefix()+t)},_hasJindoOffsetBug:function(){var t=jindo.$Jindo.VERSION||jindo.$Jindo().version||jindo.VERSION;return t.replace(/\D/gi,"")>="2100"?!1:!0},_hasKitkatHighlightBug:function(){if(_htAddPatch._hasKitkatHighlightBug&&"function"==typeof _htAddPatch._hasKitkatHighlightBug)switch(_htAddPatch._hasKitkatHighlightBug()){case-1:return!1;case 1:return!0}return _htBrowserInfo.chrome&&!_htBrowserInfo.bSBrowser&&_htBrowserInfo.version<35}};return __M__._isUseFixed=__M__.useFixed,__M__._isUseTimingFunction=__M__.useTimingFunction,__M__._isUseCss3d=__M__.useCss3d,__M__.getCssOffset=__M__.getTranslateOffset,__M__.$init(),__M__}(),"mixin"in jindo.$Jindo||(jindo.$Jindo.mixin=function(t,e){var n={};for(var i in t)n[i]=t[i];for(i in e)e.hasOwnProperty(i)&&"undefined"!=typeof e[i]&&(n[i]=e[i]);return n}),jindo.m.Component=jindo.$Class({_htEventHandler:null,_htOption:null,$init:function(){this._htEventHandler={},this._htOption={},this._htOption._htSetter={},this.constructor.$count=(this.constructor.$count||0)+1},option:function(t,e){switch(typeof t){case"undefined":var n={};for(var i in this._htOption)"htCustomEventHandler"!=i&&"_htSetter"!=i&&(n[i]=this._htOption[i]);return n;case"string":if("undefined"==typeof e)return this._htOption[t];if("htCustomEventHandler"==t){if("undefined"!=typeof this._htOption[t])return this;this.attach(e)}this._htOption[t]=e,"function"==typeof this._htOption._htSetter[t]&&this._htOption._htSetter[t](e);break;case"object":for(var o in t){if("htCustomEventHandler"==o){if("undefined"!=typeof this._htOption[o])continue;this.attach(t[o])}"_htSetter"!==o&&(this._htOption[o]=t[o]),"function"==typeof this._htOption._htSetter[o]&&this._htOption._htSetter[o](t[o])}}return this},optionSetter:function(t,e){switch(typeof t){case"undefined":return this._htOption._htSetter;case"string":if("undefined"==typeof e)return this._htOption._htSetter[t];this._htOption._htSetter[t]=jindo.$Fn(e,this).bind();break;case"object":for(var n in t)this._htOption._htSetter[n]=jindo.$Fn(t[n],this).bind()}return this},fireEvent:function(t,e){e=e||{};var n=this["on"+t],i=this._htEventHandler[t]||[],o="function"==typeof n,h=i.length>0;if(!o&&!h)return!0;i=i.concat(),e.sType=t,"undefined"==typeof e._aExtend&&(e._aExtend=[],e.stop=function(){e._aExtend.length>0&&(e._aExtend[e._aExtend.length-1].bCanceled=!0)}),e._aExtend.push({sType:t,bCanceled:!1});var s,a,r=[e];for(s=2,a=arguments.length;a>s;s++)r.push(arguments[s]);if(o&&n.apply(this,r),h){var u;for(s=0,u;u=i[s];s++)u.apply(this,r)}return!e._aExtend.pop().bCanceled},attach:function(t,e){if(1==arguments.length)return jindo.$H(arguments[0]).forEach(jindo.$Fn(function(t,e){this.attach(e,t)},this).bind()),this;var n=this._htEventHandler[t];return"undefined"==typeof n&&(n=this._htEventHandler[t]=[]),n.push(e),this},detach:function(t,e){if(1==arguments.length)return jindo.$H(arguments[0]).forEach(jindo.$Fn(function(t,e){this.detach(e,t)},this).bind()),this;var n=this._htEventHandler[t];if(n)for(var i,o=0;i=n[o];o++)if(i===e){n=n.splice(o,1);break}return this},detachAll:function(t){var e=this._htEventHandler;if(arguments.length)return"undefined"==typeof e[t]?this:(delete e[t],this);for(var n in e)delete e[n];return this}}),jindo.m.Component.factory=function(t,e){var n,i=[];"undefined"==typeof e&&(e={});for(var o,h=0;o=t[h];h++)n=new this(o,e),i[i.length]=n;return i},jindo.m.Component.getInstance=function(){throw new Error("JC 1.11.0 or JMC 1.13.0 later, getInstance method of Component is not longer supported.")},jindo.m.Component.VERSION="1.17.1",jindo.m.UIComponent=jindo.$Class({$init:function(){this._bIsActivating=!1},isActivating:function(){return this._bIsActivating},activate:function(){return this.isActivating()?this:(this._bIsActivating=!0,arguments.length>0?this._onActivate.apply(this,arguments):this._onActivate(),this)},deactivate:function(){return this.isActivating()?(this._bIsActivating=!1,arguments.length>0?this._onDeactivate.apply(this,arguments):this._onDeactivate(),this):this}}).extend(jindo.m.Component),jindo.m.Touch=jindo.$Class({$init:function(t,e){this._el=jindo.$Element(t).$value();var n={nMomentumDuration:350,nMoveThreshold:7,nSlopeThreshold:25,nLongTapDuration:1e3,nDoubleTapDuration:400,nTapThreshold:6,nPinchThreshold:.1,nRotateThreshold:5,bActivateOnload:!0,bUseAutoDirection:!1,nUseDiagonal:0,bVertical:!0,bHorizental:!1};this.option(n),this.option(e||{}),this.option("nUseDiagonal")>0&&this.option({bVertical:!0,bHorizental:!0}),this._initVariable(),this._initTouchEventName(),this._initPreventSystemEvent(),this._setSlope(),this.option("bActivateOnload")&&this.activate()},$static:{MOVETYPE:{0:"hScroll",1:"vScroll",2:"dScroll",3:"tap",4:"longTap",5:"doubleTap",6:"pinch",7:"rotate",8:"pinch-rotate"}},_initTouchEventName:function(){"ontouchstart"in window?(this._htEventName.start="touchstart",this._htEventName.move="touchmove",this._htEventName.end="touchend",this._htEventName.cancel="touchcancel",this._hasTouchEvent=!0):window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0&&(this._htEventName.start="MSPointerDown",this._htEventName.move="MSPointerMove",this._htEventName.end="MSPointerUp",this._htEventName.cancel="MSPointerCancel",this._hasTouchEvent=!1)},_initPreventSystemEvent:function(){if(this._el.style&&"undefined"!=typeof this._el.style.msTouchAction){var t="none";this.option("bHorizental")&&!this.option("bVertical")&&(t="pan-x"),this.option("bVertical")&&!this.option("bHorizental")&&(t="pan-y"),this._el.style.msTouchAction=t}},_initVariable:function(){this._htEventName={start:"mousedown",move:"mousemove",end:"mouseup",cancel:null},this._hasTouchEvent=!1,this._radianToDegree=180/Math.PI,this._htMoveInfo={nStartX:0,nStartY:0,nBeforeX:0,nBeforeY:0,nStartTime:0,nBeforeTime:0,nStartDistance:0,nBeforeDistance:0,nStartAngle:0,nLastAngle:0,nBeforeScale:0,aPos:[]},this.htEndInfo={nX:0,nY:0},this.nStart=0,this.bMove=!1,this.nMoveType=-1,this._nStartMoveType=-1,this._nVSlope=0,this._nHSlope=0,this.bSetSlope=!1,this._nTouchEndTimer=null},_attachEvents:function(){this._htEvent={};this._hasTouchEvent;this._htEvent[this._htEventName.start]={fn:jindo.$Fn(this._onStart,this).bind(),el:this._el},this._htEvent[this._htEventName.move]={fn:jindo.$Fn(this._onMove,this).bind(),el:this._el},this._htEvent[this._htEventName.end]={fn:jindo.$Fn(this._onEnd,this).bind(),el:this._el},this._htEvent.rotate=jindo.$Fn(this._onResize,this).bind(),jindo.m.bindRotate(this._htEvent.rotate),this._htEventName.cancel&&(this._htEvent[this._htEventName.cancel]={fn:jindo.$Fn(this._onCancel,this).bind(),el:this._el});for(var t in this._htEvent)this._htEvent[t].fn&&(this._htEvent[t].ref=this._attachFakeJindo(this._htEvent[t].el,this._htEvent[t].fn,t))},_attachFakeJindo:function(t,e,n){var i=(jindo.$Jindo.VERSION||jindo.$Jindo().version||jindo.VERSION).replace(/[a-z.]/gi,""),o=null;return o=230>i&&"undefined"!=typeof _notSupport?_notSupport.$Fn(e).attach(t,n):jindo.$Fn(e).attach(t,n)},_detachEvents:function(){for(var t in this._htEvent){var e=this._htEvent[t];e.ref&&e.ref.detach(e.el,t)}jindo.m.unbindRotate(this._htEvent.rotate),this._htEvent=null},_onCancel:function(t){this._onEnd(t)},_onStart:function(t){var e=this._getTouchInfo(t);if(this.nStart=e.length,!(e.length>1)){this.bMove&&this._resetTouchInfo();var n={element:e[0].el,nX:e[0].nX,nY:e[0].nY,oEvent:t};this._fireCustomEvent("touchStart",n)&&(this._updateTouchInfo(e,"start"),this._startLongTapTimer(e,t))}},_onMove:function(t){if(!(this.nStart<=0)){this.bMove=!0;var e=this._getTouchInfo(t);if(1===e.length){if(this.nMoveType<0||3==this.nMoveType||4==this.nMoveType){var n=this._getMoveType(e);(4!=this.nMoveType||3!=n)&&(2!=this.option("nUseDiagonal")||0!=n&&1!=n?this.nMoveType=this._nStartMoveType=n:(this._nStartMoveType=n,this.nMoveType=2))}}else 8!==this.nMoveType&&(this.nMoveType=this._nStartMoveType=this._getMoveType(e));var i=this._getCustomEventParam(e,!1,t);3!=this.nMoveType&&this._deleteLongTapTimer();var o=0;if(o=Math.abs(0==this.nMoveType?i.nDistanceX:1==this.nMoveType?i.nDistanceY:Math.sqrt(Math.pow(i.nDistanceX,2)+Math.pow(i.nDistanceY,2))),!(o<this.option("nMoveThreshold")||o<this.option("nSlopeThreshold"))||!(this.nMoveType<0||this.nMoveType>2)){this._updateTouchInfo(e,"move"),i.sMoveTypeAgree=!1;var h=i.sMoveType,s=(Math.abs(i.nVectorX),this.option("bHorizental")&&h==jindo.m.Touch.MOVETYPE[0]),a=this.option("bVertical")&&h==jindo.m.Touch.MOVETYPE[1],r=1==this.option("nUseDiagonal")&&h==jindo.m.Touch.MOVETYPE[2],u=2==this.option("nUseDiagonal");return(s||a||r||u)&&(i.sMoveTypeAgree=!0),this.fireEvent("touchMove",i)?void 0:void(this.nStart=0)}}},_onEnd:function(t){var e=this._getTouchInfo(t);this.nStart-=e.length;var n=this;if(this.nStart>0)return clearTimeout(this._nTouchEndTimer),void(this._nTouchEndTimer=setTimeout(function(){n._onEnd(t)},500));this._deleteLongTapTimer(),this.bMove||4==this.nMoveType||(this.nMoveType=3),this._isDblTap(e[0].nX,e[0].nY,e[0].nTime)&&(clearTimeout(this._nTapTimer),this._nTapTimer=-1,this.nMoveType=5),this._updateTouchInfo(e,"end");var i=this._getCustomEventParam(e,!0,t),o=i.sMoveType;"undefined"!=typeof this._htEventHandler[jindo.m.Touch.MOVETYPE[5]]&&this._htEventHandler[jindo.m.Touch.MOVETYPE[5]].length>0&&3==this.nMoveType?this._nTapTimer=setTimeout(function(){n._fireCustomEvent(o,i),n.fireEvent("touchEnd",i),delete n._nTapTimer},this.option("nDoubleTapDuration")):(this.fireEvent("touchEnd",i),4!=this.nMoveType&&(8===this.nMoveType?(i.sMoveType=jindo.m.Touch.MOVETYPE[6],this._fireCustomEvent(jindo.m.Touch.MOVETYPE[6],i),i.sMoveType=jindo.m.Touch.MOVETYPE[7],this._fireCustomEvent(jindo.m.Touch.MOVETYPE[7],i)):setTimeout(function(){n._fireCustomEvent(o,i)},0))),this._updateTouchEndInfo(e),this._resetTouchInfo()},_fireCustomEvent:function(t,e){return this.fireEvent(t,e)},_getCustomEventParam:function(t,e,n){var i;i=this._htMoveInfo.aPos.length>0?this._htMoveInfo.aPos[this._htMoveInfo.aPos.length>0&&!e?this._htMoveInfo.aPos.length-1:0]:{nX:this._htMoveInfo.nBeforeX,nY:this._htMoveInfo.nBeforeY,nTime:this._htMoveInfo.nBeforeTime};var o=jindo.m.Touch.MOVETYPE[this.nMoveType],h=jindo.m.Touch.MOVETYPE[this._nStartMoveType],s=t[0].nTime-this._htMoveInfo.nStartTime,a=0,r=0,u=0,_=0,f=0,c=0,l=0,d=0,v=1===this.nMoveType?0:t[0].nX-this._htMoveInfo.nStartX,p=0===this.nMoveType?0:t[0].nY-this._htMoveInfo.nStartY,m=1===this.nMoveType?0:t[0].nX-i.nX,g=0===this.nMoveType?0:t[0].nY-i.nY,T=t[0].nTime-i.nTime,E={element:t[0].el,nX:t[0].nX,nY:t[0].nY,nVectorX:t[0].nX-this._htMoveInfo.nBeforeX,nVectorY:t[0].nY-this._htMoveInfo.nBeforeY,nDistanceX:v,nDistanceY:p,sMoveType:o,sStartMoveType:h,nStartX:this._htMoveInfo.nStartX,nStartY:this._htMoveInfo.nStartY,nStartTimeStamp:this._htMoveInfo.nStartTime,htMomentum:{nDistanceX:m,nDistanceY:g,nDuration:T},oEvent:n||{}};if((t.length>1||this.nMoveType>=6)&&(E.nScale=this._getScale(t),E.nRotation=this._getRotation(t),null===E.nScale&&(E.nScale=this._htMoveInfo.nBeforeScale),null===E.nRotation&&(E.nRotation=this._htMoveInfo.nBeforeRotation)),t.length>=1){E.aX=[],E.aY=[],E.aElement=[];for(var S=0,I=t.length;I>S;S++)E.aX.push(t[S].nX),E.aY.push(t[S].nY),E.aElement.push(t[S].el)}return e&&((0==this.nMoveType||1==this.nMoveType||2==this.nMoveType)&&(s<=this.option("nMomentumDuration")&&(u=Math.abs(v)/s,a=u*u/2,_=Math.abs(p)/s,r=_*_/2),T<=this.option("nMomentumDuration")&&(l=Math.abs(m)/T,f=l*l/2,d=Math.abs(g)/T,c=d*d/2)),E.nMomentumX=a,E.nMomentumY=r,E.nSpeedX=u,E.nSpeedY=_,E.nDuration=s,E.htMomentum.nMomentumX=f,E.htMomentum.nMomentumY=c,E.htMomentum.nSpeedX=l,E.htMomentum.nSpeedY=d),E},_updateTouchEndInfo:function(t){this.htEndInfo={element:t[0].el,time:t[0].nTime,movetype:this.nMoveType,nX:t[0].nX,nY:t[0].nY}},_deleteLongTapTimer:function(){"undefined"!=typeof this._nLongTapTimer&&(clearTimeout(this._nLongTapTimer),delete this._nLongTapTimer)},_startLongTapTimer:function(t,e){var n=this;"undefined"!=typeof this._htEventHandler[jindo.m.Touch.MOVETYPE[4]]&&this._htEventHandler[jindo.m.Touch.MOVETYPE[4]].length>0&&(n._nLongTapTimer=setTimeout(function(){n.fireEvent("longTap",{element:t[0].el,oEvent:e,nX:t[0].nX,nY:t[0].nY}),n.nMoveType=4},n.option("nLongTapDuration")))},_onResize:function(){this._setSlope()},_isDblTap:function(t,e){if("undefined"!=typeof this._nTapTimer&&3==this.nMoveType){var n=this.option("nTapThreshold");if(Math.abs(this.htEndInfo.nX-t)<=n&&Math.abs(this.htEndInfo.nY-e)<=n)return!0}return!1},_setSlope:function(){this.bSetSlope||(this._nHSlope=1*(window.innerHeight/2/window.innerWidth).toFixed(2),this._nVSlope=1*(window.innerHeight/(window.innerWidth/2)).toFixed(2))},setSlope:function(t,e){this._nHSlope=e,this._nVSlope=t,this.bSetSlope=!0},getSlope:function(){return{nVSlope:this._nVSlope,nHSlope:this._nHSlope}},_resetTouchInfo:function(){for(var t in this._htMoveInfo)"aPos"!=t?this._htMoveInfo[t]=0:this._htMoveInfo.aPos.length=0;this._deleteLongTapTimer(),this.nStart=0,this.bMove=!1,this.nMoveType=-1,this._nStartMoveType=-1},_updateTouchInfo:function(t,e){"end"==e?(this.htEndInfo={nX:t[0].nX,nY:t[0].nY},this._htMoveInfo.aPos.length>3&&this._htMoveInfo.aPos.pop()):("start"==e?(this._htMoveInfo.nStartX=t[0].nX,this._htMoveInfo.nStartY=t[0].nY,this._htMoveInfo.nStartTime=t[0].nTime):this._htMoveInfo.nBeforeTime=t[0].nTime,this._htMoveInfo.nBeforeX=t[0].nX,this._htMoveInfo.nBeforeY=t[0].nY,this._htMoveInfo.aPos.push({nX:t[0].nX,nY:t[0].nY,nTime:t[0].nTime}),this._htMoveInfo.aPos.length>5&&this._htMoveInfo.aPos.shift())},_getMoveTypeBySingle:function(t,e){var n=this.nMoveType,i=Math.abs(this._htMoveInfo.nStartX-t),o=Math.abs(this._htMoveInfo.nStartY-e),h=i+o,s=this.option("nTapThreshold");if(n=s>=i&&s>=o?3:-1,this.option("nSlopeThreshold")<=h){var a=parseFloat((o/i).toFixed(2),10);n=-1===this._nHSlope&&-1===this._nVSlope&&this.option("nUseDiagonal")>0?2:a<=this._nHSlope?0:a>=this._nVSlope?1:this.option("nUseDiagonal")>1?2:2}return n},_getMoveTypeByMulti:function(){var t=-1;return(6===this.nMoveType||Math.abs(1-this._htMoveInfo.nBeforeScale)>=this.option("nPinchThreshold"))&&(t=6),(7===this.nMoveType||Math.abs(0-this._htMoveInfo.nBeforeRotation)>=this.option("nRotateThreshold"))&&(t=6===t?8:7),-1===t?this.nMoveType:t},_getScale:function(t){var e=-1,n=this._getDistance(t);return 0>=n?null:(0===this._htMoveInfo.nStartDistance?(e=1,this._htMoveInfo.nStartDistance=n):e=n/this._htMoveInfo.nStartDistance,this._htMoveInfo.nBeforeScale=e,e)},_getRotation:function(t){var e=-1,n=this._getAngle(t);return null===n?null:(0===this._htMoveInfo.nStartAngle?(this._htMoveInfo.nStartAngle=n,e=0):e=n-this._htMoveInfo.nStartAngle,this._htMoveInfo.nLastAngle=n,this._htMoveInfo.nBeforeRotation=e,e)},_getMoveType:function(t){var e=this.nMoveType;return 1===t.length?e=this._getMoveTypeBySingle(t[0].nX,t[0].nY):2===t.length&&(e=this._getMoveTypeByMulti(t)),e},_getDistance:function(t){return 1===t.length?-1:Math.sqrt(Math.pow(Math.abs(t[0].nX-t[1].nX),2)+Math.pow(Math.abs(t[0].nY-t[1].nY),2))},_getAngle:function(t){if(1===t.length)return null;var e=t[0].nX-t[1].nX,n=t[0].nY-t[1].nY,i=Math.atan2(n,e)*this._radianToDegree;if(null!==this._htMoveInfo.nLastAngle){var o=Math.abs(this._htMoveInfo.nLastAngle-i),h=i+360,s=i-360;Math.abs(h-this._htMoveInfo.nLastAngle)<o?i=h:Math.abs(s-this._htMoveInfo.nLastAngle)<o&&(i=s)}return i},_getTouchInfo:function(t){var e=[],n=t.$value().timeStamp,i=null;if(this._hasTouchEvent){i=t.$value().touches,i=i.length>1?i:t.$value().changedTouches;for(var o=0,h=i.length;h>o;o++)e.push({el:jindo.m.getNodeElement(i[o].target),nX:i[o].pageX,nY:i[o].pageY,nTime:n})}else e.push({el:t.element,nX:t.pos().pageX,nY:t.pos().pageY,nTime:n});return e},getBaseElement:function(){return this._el},_onDeactivate:function(){this._detachEvents()},_onActivate:function(){this._attachEvents()},destroy:function(){var t;this.deactivate(),this._el=null;for(t in this._htMoveInfo)this._htMoveInfo[t]=null;this._htMoveInfo=null;for(t in this.htEndInfo)this.htEndInfo[t]=null;this.htEndInfo=null,this.nStart=0,this.bMove=null,this.nMoveType=null,this._nStartMoveType=null,this._nVSlope=null,this._nHSlope=null,this.bSetSlope=null}}).extend(jindo.m.UIComponent),jindo.m.Slider=jindo.$Class({$init:function(t,e){this.option({sClassPrefix:"slider-",bVertical:!1,nMinValue:0,nMaxValue:100,nDefaultValue:0,nMoveThreshold:0,nSlopeThreshold:5,bActivateOnload:!0}),this.option(e||{}),this._setWrapperElement(t),this._initVar(),this.option("bActivateOnload")&&(this.activate(),this.setValue(this.option("nDefaultValue")))
},_initVar:function(){this._oTouch=new jindo.m.Touch(this._htWElement.track.$value(),{nTapThreshold:1,nMoveThreshold:this.option("nMoveThreshold"),nSlopeThreshold:this.option("nSlopeThreshold"),bHorizental:!this.option("bVertical"),bVertical:this.option("bVertical"),nEndEventThreshold:jindo.m.getDeviceInfo().win8?100:0,bActivateOnload:!1}),this._oTouch.attach({touchMove:jindo.$Fn(this._onMove,this).bind(),touchEnd:jindo.$Fn(this._onMove,this).bind(),touchStart:jindo.$Fn(this._onStart,this).bind()}),this._htSwap={left:this.option("bVertical")?"top":"left",width:this.option("bVertical")?"height":"width",nX:this.option("bVertical")?"nY":"nX"},this._nPos=this._nBeforeValue=0;var t=this._htWElement.thumb[this._htSwap.width]()/2;this._htWElement.thumb.css("margin-"+this._htSwap.left,-1*t)},_setWrapperElement:function(t){this._htWElement={},t=jindo.$(t);var e="."+this.option("sClassPrefix");this._htWElement.track=jindo.$Element(t);var n=jindo.$$.getSingle(e+"thumb",t);this._htWElement.thumb=n?jindo.$Element(n):null;var i=jindo.$$.getSingle(e+"range",t);this._htWElement.range=i?jindo.$Element(i):null},_onStart:function(t){var e={nValue:this.getValue(),nPosition:this.getPosition()};this.fireEvent("touchStart",e)&&t.oEvent.stop(jindo.$Event.CANCEL_DEFAULT)},_onMove:function(t){if("touchMove"==t.sType&&t.oEvent.stop(jindo.$Event.CANCEL_DEFAULT),"touchEnd"==t.sType&&t.element==this._htWElement.thumb.$value())return void this._fireEvent(t);var e=t[this._htSwap.nX]-this._htWElement.track.offset()[this._htSwap.left]-this._htWElement.thumb[this._htSwap.width]()/2,n=this._getAdjustedPos(e);this._move(n),this._fireEvent(t)},_fireEvent:function(t){this.fireEvent(t.sType,{nValue:this.getValue(),nPosition:this.getPosition()})},_move:function(t,e){if("undefined"==typeof e&&(e=!0),this._nPos!=t||e){var n=this.getValue(t),i=Math.round(t),o=this.getValue(i);this._nBeforeValue=n,this._nPos=t;var h={nValue:n,nPosition:t,nAdjustValue:o,nAdjustPosition:i};(!e||this._fireBeforeEvent(h))&&(h.nAdjustValue!=o&&(h.nAdjustPosition=this._getPositionFromValue(h.nAdjustValue)),this._moveThumb(h.nAdjustPosition),e&&this._fireChangeEvent(h),this._htWElement.range&&this._htWElement.range.css(this._htSwap.width,h.nAdjustPosition+"%"))}},_fireBeforeEvent:function(t){return this.fireEvent("beforeChange",t)},_fireChangeEvent:function(t){this.fireEvent("change",t)},_moveThumb:function(t){t>100||0>t||(this._htWElement.thumb.css("webkitTransitionDuration","0ms"),this._htWElement.thumb.css("webkitTransitionProperty",this._htSwap.left),this._htWElement.thumb.css(this._htSwap.left,t+"%"))},_getTrackInfo:function(){var t=this.option("bVertical")?this._htWElement.track.height():this._htWElement.track.width(),e=this.option("bVertical")?this._htWElement.thumb.height():this._htWElement.thumb.width(),n=t-e/2;return{maxPos:n,max:1*this.option("nMaxValue"),min:1*this.option("nMinValue")}},getValue:function(t){"undefined"==typeof t&&(t=this.getPosition());var e=this._getTrackInfo(),n=e.min+(e.max-e.min)*(t/100);return n},setValue:function(t,e){t=1*t;var n=this._getPositionFromValue(t);"undefined"==typeof e&&(e=!1),this._nBeforeValue!=t&&(e=!0),this._move(n,e)},_getAdjustedPos:function(t){var e=this._getTrackInfo(),n=100*t/e.maxPos;return n=Math.max(0,n),n=Math.min(n,100)},getPosition:function(){var t=this._htWElement.thumb.css(this._htSwap.left);return"auto"==t?0:parseFloat(t,10)},setPosition:function(t,e){"undefined"==typeof e&&(e=!0),this._move(t,e)},_getPositionFromValue:function(t){var e=this._getTrackInfo(),n=100*(t-e.min)/(e.max-e.min);return n=isNaN(n)?100:n,n=Math.max(0,n),n=Math.min(100,n)},_onClick:function(t){t.stop()},_attachEvent:function(){this._htEvent={}},_detachEvent:function(t){if(t){var e=this._htEvent[t];e.ref.detach(e.el,t)}},_onActivate:function(){this._attachEvent(),this._oTouch.activate()},_onDeactivate:function(){this._detachEvent(),this._oTouch.deactivate()},destroy:function(){this.deactivate();for(var t in this._htWElement)this._htWElement[t]=null;this._htWElement=null;for(t in this._htSwap)this._htSwap[t]=null;this._htSwap=null,this._oTouch.detachAll()}}).extend(jindo.m.UIComponent);